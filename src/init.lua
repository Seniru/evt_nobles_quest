local IS_TEST = true

tfm.exec.disableAfkDeath()
tfm.exec.disableAutoShaman()
tfm.exec.disablePhysicalConsumables()
tfm.exec.disableWatchCommand()

system.luaEventLaunchInterval(40)
system.setLuaEventBanner(28)

math.randomseed(os.time())
-- NOTE: Sometimes the script is loaded twice in the same round (detect it when eventNewGame is called twice). You must use system.exit() is this case, because it doesn't load the player data correctly, and the textareas (are duplicated) doesn't trigger eventTextAreaCallback.
local eventLoaded, mapLoaded, eventEnding = false, false, false
local mapPlaying = ""

-- final boss battle
local bossBattleTriggered, divineChargeTimeOver, divinePowerCasted = false, false, false
local divinePowerCharge = 0
local FINAL_BOSS_ATK_MAX_CHARGE = 2000

local maps = {
	mine = [[<C><P L="1622" H="1720" APS="17f322853ac.png,,820,1329,800,317,0,800" Ca="" MEDATA="67,1;;;;0,6-0;0:::1-"/><Z><S><S T="1" X="1628" Y="1208" L="10" H="2016" P="0,0,0,0.2,2880,0,0,0" m=""/><S T="1" X="-7" Y="1296" L="10" H="2016" P="0,0,0,0.2,2880,0,0,0" m=""/><S T="0" X="5" Y="805" L="11" H="10" P="0,0,0.3,0.2,2880,0,0,0" c="4" nosync="" i="0,0,17f32282dfc.png"/><S T="0" X="30" Y="1002" L="61" H="10" P="0,0,0.3,0.2,2890,0,0,0" m=""/><S T="0" X="85" Y="1021" L="59" H="10" P="0,0,0.3,0.2,2910,0,0,0" m=""/><S T="0" X="149" Y="1119" L="139" H="10" P="0,0,6,0.2,2950,0,0,0" m=""/><S T="0" X="119" Y="1046" L="26" H="10" P="0,0,0.3,0.2,2930,0,0,0" m=""/><S T="0" X="209" Y="1199" L="102" H="10" P="0,0,0.3,0.2,2918,0,0,0" m=""/><S T="0" X="264" Y="1253" L="57" H="10" P="0,0,0.3,0.2,2950,0,0,0" m=""/><S T="0" X="298" Y="1309" L="79" H="10" P="0,0,0.3,0.2,2930,0,0,0" m=""/><S T="12" X="801" Y="315" L="723" H="542" P="0,0,0.3,0.2,0,0,0,0" o="322226" c="2"/><S T="0" X="321" Y="1362" L="49" H="10" P="0,0,0.3,0.2,2970,0,0,0" m=""/><S T="0" X="524" Y="1335" L="230" H="10" P="0,0,0.3,0.2,2860,0,0,0" m=""/><S T="0" X="1237" Y="1257" L="80" H="10" P="0,0,0.3,0.2,2860,0,0,0" m=""/><S T="0" X="1305" Y="1256" L="80" H="10" P="0,0,0.3,0.2,2890,0,0,0" m=""/><S T="0" X="1382" Y="1277" L="80" H="10" P="0,0,0.3,0.2,2900,0,0,0" m=""/><S T="0" X="1457" Y="1280" L="80" H="10" P="0,0,0.3,0.2,2860,0,0,0" m=""/><S T="0" X="1541" Y="1269" L="80" H="10" P="0,0,0.3,0.2,2880,0,0,0" m=""/><S T="0" X="1588" Y="1258" L="80" H="10" P="0,0,0.3,0.2,2870,0,0,0" m=""/><S T="0" X="723" Y="1508" L="82" H="10" P="0,0,0.3,0.2,2860,0,0,0" m=""/><S T="0" X="644" Y="1512" L="58" H="10" P="0,0,0.3,0.2,2870,0,0,0" m=""/><S T="0" X="792" Y="1468" L="82" H="10" P="0,0,0.3,0.2,2840,0,0,0" m=""/><S T="0" X="614" Y="1563" L="82" H="10" P="0,0,0.3,0.2,2840,0,0,0" m=""/><S T="0" X="827" Y="1417" L="82" H="10" P="0,0,0.3,0.2,2820,0,0,0" m=""/><S T="0" X="883" Y="1364" L="82" H="10" P="0,0,0.3,0.2,2850,0,0,0" m=""/><S T="0" X="909" Y="1344" L="63" H="10" P="0,0,0.3,0.2,2850,0,0,0" m=""/><S T="0" X="972" Y="1334" L="63" H="10" P="0,0,0.3,0.2,2890,0,0,0" m=""/><S T="0" X="1024" Y="1344" L="63" H="10" P="0,0,0.3,0.2,2880,0,0,0" m=""/><S T="0" X="1072" Y="1334" L="65" H="10" P="0,0,0.3,0.2,2857,0,0,0" m=""/><S T="0" X="1108" Y="1318" L="65" H="10" P="0,0,0.3,0.2,2837,0,0,0" m=""/><S T="0" X="1162" Y="1294" L="65" H="10" P="0,0,0.3,0.2,2877,0,0,0" m=""/><S T="0" X="1174" Y="1286" L="65" H="10" P="0,0,0.3,0.2,2847,0,0,0" m=""/><S T="0" X="915" Y="1354" L="82" H="28" P="0,0,0.3,0.2,2880,0,0,0" m=""/><S T="0" X="235" Y="1458" L="230" H="10" P="0,0,0.3,0.2,2840,0,0,0" m=""/><S T="0" X="667" Y="1274" L="88" H="10" P="0,0,0.3,0.2,2850,0,0,0" m=""/><S T="0" X="778" Y="1225" L="163" H="10" P="0,0,1.2,0.2,2860,0,0,0" m=""/><S T="0" X="957" Y="1198" L="212" H="10" P="0,0,0.3,0.2,2880,0,0,0" m=""/><S T="0" X="1082" Y="1190" L="54" H="10" P="0,0,0.3,0.2,2860,0,0,0" m=""/><S T="0" X="1130" Y="1180" L="69" H="10" P="0,0,0.3,0.2,2840,0,0,0" m=""/><S T="0" X="1193" Y="1146" L="85" H="12" P="0,0,0.3,0.2,2860,0,0,0" m=""/><S T="0" X="1237" Y="1133" L="67" H="10" P="0,0,0.3,0.2,2800,0,0,0" m=""/><S T="0" X="1314" Y="1063" L="161" H="10" P="0,0,0.3,0.2,2850,0,0,0" m=""/><S T="0" X="1430" Y="1014" L="94" H="10" P="0,0,0.3,0.2,2870,0,0,0" m=""/><S T="0" X="1532" Y="1007" L="113" H="10" P="0,0,0.3,0.2,2880,0,0,0" m=""/><S T="0" X="1602" Y="1010" L="34" H="10" P="0,0,0.3,0.2,2890,0,0,0" m=""/><S T="4" X="356" Y="1476" L="10" H="235" P="0,0,20,0.2,2910,0,0,0" m=""/><S T="0" X="900" Y="1644" L="1800" H="22" P="0,0,0.3,0.2,2880,0,0,0" m=""/><S T="0" X="894" Y="1662" L="136" H="10" P="0,0,0.3,0.2,2840,0,0,0" m=""/><S T="0" X="1003" Y="1611" L="121" H="10" P="0,0,0.3,0.2,2870,0,0,0" m=""/><S T="0" X="1121" Y="1595" L="118" H="10" P="0,0,0.3,0.2,2875,0,0,0" m=""/><S T="0" X="1528" Y="1650" L="118" H="10" P="0,0,0.3,0.2,2915,0,0,0" m=""/><S T="0" X="1332" Y="1604" L="314" H="10" P="0,0,0.3,0.2,2885,0,0,0" m=""/><S T="0" X="267" Y="1625" L="200" H="10" P="0,0,0.3,0.2,2900,0,0,0" m=""/><S T="0" X="86" Y="1625" L="200" H="10" P="0,0,0.3,0.2,2860,0,0,0" m=""/><S T="8" X="1263" Y="1444" L="718" H="449" P="0,0,0.3,0.2,0,0,0,0" c="4" m="" lua="2"/><S T="8" X="154" Y="1049" L="302" H="499" P="0,0,0.3,0.2,0,0,0,0" c="4" m="" lua="3"/><S T="8" X="730" Y="1195" L="264" H="151" P="0,0,0.3,0.2,0,0,0,0" c="2" m="" lua="4"/><S T="8" X="804" Y="313" L="670" H="520" P="0,0,0.3,0.2,5400,0,0,0" c="2" m="" lua="7"/><S T="5" X="470" Y="123" L="154" H="42" P="0,0,0.3,0.2,90,0,0,0"/><S T="5" X="1140" Y="123" L="154" H="42" P="0,0,0.3,0.2,-90,0,0,0"/><S T="5" X="491" Y="90" L="91" H="31" P="0,0,0.3,0.2,110,0,0,0"/><S T="5" X="471" Y="337" L="91" H="31" P="0,0,0.3,0.2,110,0,0,0"/><S T="5" X="490" Y="333" L="91" H="31" P="0,0,0.3,0.2,130,0,0,0"/><S T="5" X="1124" Y="346" L="91" H="31" P="0,0,0.3,0.2,90,0,0,0"/><S T="5" X="1119" Y="90" L="91" H="31" P="0,0,0.3,0.2,-110,0,0,0"/><S T="5" X="512" Y="82" L="78" H="42" P="0,0,0.3,0.2,150,0,0,0"/><S T="5" X="1098" Y="82" L="78" H="42" P="0,0,0.3,0.2,-150,0,0,0"/><S T="8" X="1239" Y="1062" L="765" H="299" P="0,0,0.3,0.2,0,0,0,0" c="4" m="" lua="5"/><S T="8" X="75" Y="1599" L="157" H="107" P="0,0,0.3,0.2,0,0,0,0" c="4" m="" lua="6"/><S T="8" X="563" Y="1594" L="157" H="107" P="0,0,0.3,0.2,0,0,0,0" c="4" m="" lua="8"/><S T="5" X="922" Y="214" L="110" H="23" P="0,0,0.3,0.2,140,0,0,0"/><S T="5" X="569" Y="257" L="58" H="23" P="0,0,0.3,0.2,90,0,0,0"/><S T="5" X="858" Y="256" L="58" H="23" P="0,0,0.3,0.2,160,0,0,0"/><S T="5" X="1045" Y="227" L="49" H="23" P="0,0,0.3,0.2,180,0,0,0"/><S T="5" X="999" Y="206" L="74" H="23" P="0,0,0.3,0.2,220,0,0,0"/><S T="5" X="902" Y="408" L="58" H="23" P="0,0,0.3,0.2,90,0,0,0"/><S T="5" X="563" Y="294" L="196" H="23" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="728" Y="338" L="101" H="23" P="0,0,0.3,0.2,-50,0,0,0"/><S T="5" X="653" Y="372" L="101" H="23" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="874" Y="370" L="80" H="23" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="1098" Y="336" L="101" H="23" P="0,0,0.3,0.2,-50,0,0,0"/><S T="5" X="1110" Y="348" L="47" H="23" P="0,0,0.3,0.2,-50,0,0,0"/><S T="5" X="1101" Y="450" L="156" H="23" P="0,0,0.3,0.2,280,0,0,0"/><S T="5" X="823" Y="196" L="101" H="23" P="0,0,0.3,0.2,-20,0,0,0"/><S T="5" X="644" Y="194" L="45" H="23" P="0,0,0.3,0.2,150,0,0,0"/><S T="5" X="733" Y="143" L="33" H="23" P="0,0,0.3,0.2,150,0,0,0"/><S T="5" X="835" Y="103" L="195" H="23" P="0,0,0.3,0.2,160,0,0,0"/><S T="5" X="637" Y="120" L="157" H="23" P="0,0,0.3,0.2,240,0,0,0"/><S T="5" X="918" Y="179" L="101" H="23" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="1064" Y="370" L="161" H="23" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="978" Y="127" L="129" H="23" P="0,0,0.3,0.2,-90,0,0,0"/><S T="5" X="938" Y="511" L="129" H="23" P="0,0,0.3,0.2,-90,0,0,0"/><S T="5" X="799" Y="339" L="111" H="23" P="0,0,0.3,0.2,-140,0,0,0"/><S T="5" X="746" Y="270" L="81" H="23" P="0,0,0.3,0.2,70,0,0,0"/><S T="5" X="611" Y="463" L="101" H="23" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="763" Y="499" L="101" H="23" P="0,0,0.3,0.2,-90,0,0,0"/><S T="5" X="941" Y="448" L="101" H="23" P="0,0,0.3,0.2,-180,0,0,0"/><S T="5" X="816" Y="526" L="101" H="23" P="0,0,0.3,0.2,20,0,0,0"/><S T="5" X="497" Y="351" L="138" H="23" P="0,0,0.3,0.2,130,0,0,0"/><S T="5" X="508" Y="431" L="138" H="23" P="0,0,0.3,0.2,210,0,0,0"/><S T="5" X="469" Y="494" L="156" H="23" P="0,0,0.3,0.2,270,0,0,0"/><S T="5" X="544" Y="548" L="156" H="23" P="0,0,0.3,0.2,350,0,0,0"/><S T="5" X="592" Y="557" L="156" H="23" P="0,0,0.3,0.2,360,0,0,0"/><S T="5" X="883" Y="546" L="528" H="44" P="0,0,0.3,0.2,360,0,0,0"/><S T="5" X="1047" Y="294" L="196" H="23" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="451" Y="313" L="30" H="550" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="478" Y="240" L="94" H="26" P="0,0,0.3,0.2,90,0,0,0"/><S T="5" X="1123" Y="457" L="163" H="26" P="0,0,0.3,0.2,90,0,0,0"/><S T="5" X="1112" Y="492" L="163" H="26" P="0,0,0.3,0.2,110,0,0,0"/><S T="5" X="1132" Y="240" L="94" H="26" P="0,0,0.3,0.2,-90,0,0,0"/><S T="5" X="1124" Y="175" L="130" H="23" P="0,0,0.3,0.2,-110,0,0,0"/><S T="5" X="808" Y="575" L="700" H="26" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="804" Y="76" L="526" H="23" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="492" Y="158" L="94" H="23" P="0,0,0.3,0.2,110,0,0,0"/><S T="5" X="540" Y="88" L="94" H="23" P="0,0,0.3,0.2,140,0,0,0"/><S T="5" X="1150" Y="313" L="32" H="550" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="1070" Y="88" L="94" H="23" P="0,0,0.3,0.2,-140,0,0,0"/><S T="5" X="815" Y="52" L="700" H="28" P="0,0,0.3,0.2,0,0,0,0"/><S T="12" X="812" Y="1751" L="1640" H="207" P="0,0,0.3,0.2,0,0,0,0" o="533d2e"/><S T="1" X="612" Y="1543" L="14" H="58" P="0,0,0,0.2,16,0,0,0" m=""/><S T="12" X="813" Y="737" L="1643" H="125" P="0,0,0.3,0.2,0,0,0,0" o="BAD9E8"/></S><D><DS X="903" Y="1168"/></D><O><O X="19" Y="1008" C="22" nosync="" P="0" type="tree"/><O X="93" Y="1033" C="22" nosync="" P="0" type="tree"/><O X="189" Y="1186" C="22" nosync="" P="0" type="tree"/><O X="1340" Y="1580" C="22" nosync="" P="0" type="npc" name="nosferatu"/><O X="954" Y="1180" C="22" nosync="" P="0" type="npc" name="laura"/><O X="708" Y="505" C="22" nosync="" P="0" type="npc" name="garry"/><O X="856" Y="506" C="22" nosync="" P="0" type="npc" name="thompson"/><O X="763" Y="1206" C="22" nosync="" P="0" type="craft_table"/><O X="499" Y="1601" C="22" nosync="" P="0" type="recipe" name="basic_axe"/><O X="1596" Y="1241" C="22" nosync="" P="0" type="recipe" name="copper_shovel"/><O X="1569" Y="1247" C="22" nosync="" P="0" type="recipe" name="copper_axe"/><O X="950" Y="114" C="22" nosync="" P="0" type="recipe" name="iron_shovel"/><O X="1434" Y="1594" C="22" nosync="" P="0" type="recipe" name="log_stakes"/><O X="956" Y="154" C="22" nosync="" P="0" type="spirit_orb" name="1"/><O X="1057" Y="332" C="22" nosync="" P="0" type="recipe" name="basic_shovel"/><O X="15" Y="960" C="22" nosync="" P="0" type="recipe" name="iron_axe"/><O X="1449" Y="996" C="22" nosync="" P="0" type="rock"/><O X="1554" Y="981" C="22" nosync="" P="0" type="rock"/><O X="1296" Y="1067" C="22" nosync="" P="0" type="rock"/><O X="1535" Y="1599" C="11" nosync="" P="0" type="teleport" route="mine" id="1"/><O X="510" Y="519" C="11" nosync="" P="0" type="teleport" route="mine" id="2"/><O X="1027" Y="1188" C="22" nosync="" P="0" type="tree"/><O X="56" Y="1605" C="22" nosync="" P="0" type="tree"/><O X="584" Y="431" C="22" nosync="" P="0" type="rock"/><O X="521" Y="264" C="22" nosync="" P="0" type="rock"/><O X="629" Y="169" C="22" nosync="" P="0" type="copper_ore"/><O X="782" Y="100" C="22" nosync="" P="0" type="gold_ore"/><O X="888" Y="208" C="22" nosync="" P="0" type="copper_ore"/><O X="1031" Y="189" C="22" nosync="" P="0" type="iron_ore"/><O X="856" Y="342" C="22" nosync="" P="0" type="rock"/><O X="1053" Y="507" C="22" nosync="" P="0" type="rock"/><O X="1004" Y="504" C="22" nosync="" P="0" type="rock"/><O X="933" Y="417" C="22" nosync="" P="0" type="iron_ore"/></O><L/></Z></C>]],
	castle = [[<C><P L="2000" H="6000" d="x_deadmeat/x_pictos/d_2297.png,1465,471;x_deadmeat/x_pictos/d_2297.png,1167,742;x_deadmeat/x_pictos/d_2297.png,346,441;x_deadmeat/x_pictos/d_2297.png,-22,760;x_deadmeat/x_pictos/d_2297.png,360,1055;x_deadmeat/x_pictos/d_2297.png,786,803;x_deadmeat/x_pictos/d_2297.png,1371,1025;x_deadmeat/x_pictos/d_2297.png,462,1247;x_deadmeat/x_pictos/d_2297.png,1171,1659;x_deadmeat/x_pictos/d_2297.png,1349,1606;x_deadmeat/x_pictos/d_2297.png,259,1767;x_deadmeat/x_pictos/d_2297.png,-11,1270;tfmadv/meli/fougere4.png,1924,1248;tfmadv/picto/marais/roseau3.png,687,453;tfmadv/picto/marais/herbe5.png,1462,909;tfmadv/picto/marais/herbe5.png,1094,1721;tfmadv/picto/marais/herbe5.png,530,868;tfmadv/picto/marais/herbe5.png,63,690;tfmadv/picto/foret/pomme-pin.png,887,750;tfmadv/picto/foret/herbe2.png,1060,1064;tfmadv/picto/foret/herbe2.png,567,765;tfmadv/picto/souris/tasbois_horizontal.png,197,744;tfmadv/picto/souris/tasbois_horizontal.png,406,1783;tfmadv/picto/souris/tasbois_horizontal.png,1451,1049;tfmadv/picto/marais/herbe2.png,1168,758;tfmadv/picto/marais/herbe2.png,597,1379;tfmadv/picto/marais/herbe2.png,378,1061;tfmadv/picto/marais/trefles2.png,1432,510;tfmadv/picto/marais/trefles.png,-97,864;tfmadv/picto/marais/test/plante3_moyenne.png,824,1107;tfmadv/picto/marais/test/plantecarnivore1_feuilles1.png,950,1667;tfmadv/picto/marais/test/plantecarnivore1_feuilles1.png,444,1326;tfmadv/picto/foret/treflemoyen.png,173,1554;tfmadv/picto/foret/treflemoyen.png,698,1157;tfmadv/picto/village/petitminerai.png,416,458;tfmadv/picto/village/petitminerai.png,1466,758;tfmadv/picto/village/petitminerai.png,1076,898;tfmadv/picto/village/petitminerai.png,221,1059;tfmadv/picto/village/petitminerai.png,771,1379;tfmadv/picto/village/petitminerai.png,531,1459;tfmadv/picto/village/petitminerai.png,241,1779" D="180c7386662.png,383,4486;180c7386662.png,403,4496" Ca="" MEDATA=";;15,1;0,4:1,4:2,4:3,4:4,4:5,4:6,4:7,4:8,4:9,4:10,4:11,4:12,4:13,4:14,4:15,4:16,4:17,4:18,4:19,4:20,4:21,4:22,4:23,4:24,4:25,4:26,4:27,4:28,4:29,4:30,4:31,4:32,4:33,4;0,6:1,6:2,6:3,6:4,6:5,6:6,6:7,6:8,6:9,6:10,6:11,6:12,6:13,6:14,6:15,6:16,6:17,6:18,6:19,6:20,6:21,6:22,6:23,6:24,6:25,6:26,6:27,6:28,6:29,6:30,6:31,6:32,6:33,6:34,6:35,6:36,6:37,6:38,6:39,6:40,6:41,6:42,6-0;0::0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33:1-"/><Z><S><S T="0" X="7" Y="2745" L="10" H="10" P="0,0,0.3,0.2,0,0,0,0" i="0,0,17f9dab706f.jpg"/><S T="0" X="89" Y="3226" L="197" H="10" P="0,0,0.3,0.2,30,0,0,0" m=""/><S T="0" X="54" Y="3174" L="197" H="10" P="0,0,0.3,0.2,50,0,0,0" m=""/><S T="0" X="274" Y="3193" L="69" H="10" P="0,0,0.3,0.2,40,0,0,0" m=""/><S T="0" X="214" Y="3178" L="84" H="10" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="0" X="156" Y="3144" L="84" H="10" P="0,0,0.3,0.2,60,0,0,0" m=""/><S T="0" X="269" Y="3258" L="197" H="10" P="0,0,0.3,0.2,-10,0,0,0" m=""/><S T="0" X="530" Y="3241" L="330" H="10" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="0" X="654" Y="3241" L="197" H="10" P="0,0,0.3,0.2,-10,0,0,0" m=""/><S T="0" X="849" Y="3224" L="197" H="10" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="0" X="1027" Y="3224" L="158" H="10" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="0" X="1194" Y="3240" L="197" H="10" P="0,0,0.3,0.2,10,0,0,0" m=""/><S T="0" X="1700" Y="3217" L="197" H="10" P="0,0,0.3,0.2,20,0,0,0" m=""/><S T="0" X="1514" Y="3184" L="197" H="10" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="0" X="1713" Y="3237" L="197" H="10" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="12" X="446" Y="4969" L="896" H="295" P="0,0,0.3,0.2,0,0,0,0" o="c53c45" m=""/><S T="0" X="1687" Y="3021" L="51" H="10" P="0,0,0.3,0.2,230,0,0,0" m=""/><S T="0" X="1641" Y="2987" L="51" H="10" P="0,0,0.3,0.2,200,0,0,0" m=""/><S T="0" X="1600" Y="2983" L="51" H="10" P="0,0,0.3,0.2,170,0,0,0" m=""/><S T="0" X="1566" Y="2996" L="51" H="10" P="0,0,0.3,0.2,160,0,0,0" m=""/><S T="0" X="1854" Y="3263" L="103" H="10" P="0,0,0.3,0.2,30,0,0,0" m=""/><S T="0" X="1994" Y="3512" L="103" H="10" P="0,0,5,0.2,-80,0,0,0" m=""/><S T="0" X="1959" Y="3606" L="103" H="10" P="0,0,5,0.2,-60,0,0,0" m=""/><S T="0" X="1903" Y="3687" L="103" H="10" P="0,0,1,0.2,-50,0,0,0" m=""/><S T="0" X="1820" Y="3743" L="103" H="10" P="0,0,0.3,0.2,-20,0,0,0" m=""/><S T="0" X="1726" Y="3767" L="103" H="10" P="0,0,0.3,0.2,-10,0,0,0" m=""/><S T="0" X="1587" Y="3726" L="118" H="10" P="0,0,0.3,0.2,10,0,0,0" m=""/><S T="0" X="1421" Y="3716" L="220" H="10" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="0" X="1146" Y="3745" L="349" H="10" P="0,0,0.3,0.2,-10,0,0,0" m=""/><S T="0" X="838" Y="3826" L="310" H="10" P="0,0,0.3,0.2,-20,0,0,0" m=""/><S T="1" X="-13" Y="2265" L="10" H="3651" P="0,0,0,0.2,0,0,0,0" m=""/><S T="1" X="133" Y="3092" L="10" H="62" P="0,0,0,0.2,0,0,0,0" m=""/><S T="1" X="2009" Y="3091" L="10" H="2000" P="0,0,0,0.2,0,0,0,0" m=""/><S T="1" X="1168" Y="3019" L="10" H="482" P="0,0,0,0.2,0,0,0,0" m=""/><S T="1" X="1092" Y="3184" L="10" H="76" P="0,0,0,0.2,0,0,0,0" m=""/><S T="1" X="1121" Y="3135" L="10" H="76" P="0,0,0,0.2,50,0,0,0" m=""/><S T="0" X="1910" Y="3309" L="53" H="10" P="0,0,0.3,0.2,60,0,0,0" m=""/><S T="4" X="2003" Y="3381" L="10" H="190" P="0,0,20,0.2,0,0,0,0" m=""/><S T="1" X="1535" Y="2948" L="10" H="453" P="0,0,0,0.2,0,0,0,0" m=""/><S T="0" X="151" Y="4046" L="442" H="10" P="0,0,0.3,0.2,-10,0,0,0" m=""/><S T="0" X="291" Y="3848" L="675" H="10" P="0,0,0.3,0.2,3,0,0,0" m=""/><S T="0" X="586" Y="3977" L="442" H="10" P="0,0,0.3,0.2,-8,0,0,0" m=""/><S T="0" X="1024" Y="3955" L="442" H="10" P="0,0,0.3,0.2,2,0,0,0" m=""/><S T="0" X="1064" Y="3955" L="442" H="10" P="0,0,0.3,0.2,2,0,0,0" m=""/><S T="0" X="1449" Y="3952" L="329" H="10" P="0,0,0.3,0.2,-4,0,0,0" m=""/><S T="0" X="1805" Y="3942" L="387" H="10" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="0" X="1618" Y="3834" L="175" H="10" P="0,0,5,0.2,-44,0,0,0" m=""/><S T="4" X="1706" Y="3098" L="10" H="114" P="0,0,20,0.2,0,0,0,0" m=""/><S T="1" X="1700" Y="3089" L="10" H="121" P="0,0,0,0.2,0,0,0,0" m=""/><S T="8" X="1008" Y="3014" L="2013" H="535" P="0,0,0.3,0.2,0,0,0,0" c="4" m="" lua="1"/><S T="8" X="1402" Y="2332" L="900" H="405" P="0,0,0.3,0.2,0,0,0,0" c="4" lua="2" i="0,0,180938afb04.png"/><S T="8" X="427" Y="4768" L="1098" H="410" P="0,0,0.3,0.2,0,0,0,0" c="4" lua="5" i="116,-248,180e68a59d6.png"/><S T="12" X="1355" Y="5515" L="58" H="273" P="0,0,0,0.2,0,0,0,0" o="324650" m="" lua="4"/><S T="1" X="852" Y="4643" L="83" H="450" P="0,0,0,0.2,0,0,0,0" m=""/><S T="1" X="4" Y="4429" L="1990" H="57" P="0,0,0,0.2,0,0,0,0" m=""/><S T="12" X="995" Y="5316" L="1990" H="135" P="0,0,0,0.2,0,0,0,0" o="ABABAB"/><S T="1" X="-31" Y="4636" L="63" H="461" P="0,0,0,0.2,0,0,0,0" m=""/><S T="1" X="-33" Y="5562" L="63" H="440" P="0,0,0,0.2,0,0,0,0" m=""/><S T="1" X="2031" Y="5586" L="80" H="500" P="0,0,0,0.2,0,0,0,0" m=""/><S T="0" X="1403" Y="2518" L="905" H="67" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="8" X="995" Y="5579" L="1987" H="391" P="0,0,0.3,0.2,0,0,0,0" c="4" lua="3" i="0,0,1817ac76a6a.png"/><S T="8" X="996" Y="3870" L="2009" H="454" P="0,0,0.3,0.2,180,0,0,0" c="4" m="" lua="6"/><S T="8" X="983" Y="1329" L="1985" H="381" P="0,0,0.3,0.2,0,0,0,0" c="4" m="" lua="7"/><S T="8" X="983" Y="632" L="1985" H="381" P="0,0,0.3,0.2,0,0,0,0" c="4" m="" lua="9"/><S T="8" X="985" Y="961" L="2005" H="318" P="0,0,0.3,0.2,0,0,0,0" c="4" m="" lua="8"/><S T="12" X="1657" Y="5708" L="777" H="147" P="0,0,0.3,0.2,0,0,0,0" o="324650" m=""/><S T="12" X="399" Y="5709" L="872" H="147" P="0,0,0.3,0.2,0,0,0,0" o="324650" m=""/><S T="10" X="400" Y="1860" L="800" H="80" P="0,0,0.3,0,0,0,0,0" c="3"/><S T="10" X="1359" Y="1860" L="1120" H="80" P="0,0,0.3,0,0,0,0,0" c="3"/><S T="10" X="600" Y="1780" L="80" H="80" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="400" Y="1490" L="80" H="10" P="1,-1,0.3,0,0,1,0,0" m=""/><S T="10" X="760" Y="1700" L="80" H="80" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="440" Y="1700" L="80" H="80" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="320" Y="1600" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="600" Y="1640" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="360" Y="1720" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="600" Y="1520" L="400" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="420" Y="1440" L="120" H="120" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="200" Y="1520" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="300" Y="1440" L="120" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="1120" Y="1000" L="120" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="1721" Y="1766" L="120" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="1080" Y="960" L="120" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="1770" Y="1724" L="120" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="1320" Y="920" L="120" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="1520" Y="1040" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="780" Y="920" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="780" Y="660" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="700" Y="740" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="1500" Y="660" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="1220" Y="780" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="900" Y="760" L="80" H="80" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="40" Y="720" L="80" H="160" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="700" Y="1040" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="580" Y="1000" L="80" H="40" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="80" Y="1440" L="80" H="40" P="0,-1,0.3,0,0,0,0,0"/><S T="10" X="20" Y="1420" L="40" H="80" P="0,-1,0.3,0,0,0,0,0" c="3"/><S T="10" X="51" Y="1300" L="40" H="80" P="0,-1,0.3,0,0,0,0,0" c="3"/><S T="10" X="400" Y="1200" L="80" H="120" P="0,-1,0.3,0,0,0,0,0" c="3"/><S T="10" X="1926" Y="1678" L="80" H="463" P="0,-1,0.3,0,0,0,0,0" c="3"/><S T="10" X="120" Y="1700" L="240" H="240" P="0,0,0.3,0,360,0,0,0"/><S T="10" X="1220" Y="1280" L="40" H="280" P="0,0,0.3,0,-360,0,0,0"/><S T="10" X="1979" Y="1172" L="40" H="1460" P="0,0,0.3,0,-360,0,0,0"/><S T="10" X="921" Y="1460" L="640" H="80" P="0,0,0.3,0,-360,0,0,0"/><S T="10" X="947" Y="1120" L="1896" H="40" P="0,0,0.3,0,-360,0,0,0"/><S T="10" X="931" Y="820" L="1863" H="40" P="0,0,0.3,0,-360,0,0,0"/><S T="10" X="1000" Y="460" L="2000" H="40" P="0,0,0.3,0,-360,0,0,0"/><S T="10" X="240" Y="1280" L="400" H="40" P="0,0,0.3,0,-360,0,0,0"/><S T="12" X="760" Y="1820" L="20" H="40" P="1,20,0.3,0.2,0,1,2000,0" o="6D4E94" c="3"/><S T="12" X="30" Y="1580" L="20" H="40" P="1,20,0.3,0.2,0,1,2000,0" o="000000" c="2" m=""/><S T="12" X="810" Y="1660" L="20" H="40" P="1,20,0.3,0.2,0,1,2000,0" o="000000" c="2" m=""/><S T="12" X="360" Y="1390" L="38" H="20" P="1,20,0.3,0.2,0,1,2000,0" o="000000" c="2" m=""/><S T="12" X="30" Y="1420" L="20" H="40" P="1,20,0.3,0.2,0,1,2000,0" o="000000" c="2" m=""/><S T="12" X="80" Y="1520" L="80" H="120" P="1,20,0,0,0,1,0,0" o="6D4E94"/><S T="12" X="760" Y="1600" L="80" H="120" P="1,20,0,0,0,1,0,0" o="68A2C4"/><S T="12" X="80" Y="1360" L="80" H="120" P="1,20,0,0,0,1,0,0" o="007D42"/><S T="12" X="400" Y="1340" L="80" H="80" P="1,20,0,0,0,1,0,0" o="C6C96D"/><S T="12" X="80" Y="1580" L="20" H="40" P="1,20,0.3,0.2,0,1,2000,0" o="68A2C4" c="3"/><S T="12" X="760" Y="1660" L="20" H="40" P="1,20,0.3,0.2,0,1,2000,0" o="007D42" c="3"/><S T="12" X="40" Y="1410" L="40" H="20" P="1,20,0.3,0.2,0,1,2000,0" o="C6C96D" c="3"/><S T="1" X="1660" Y="1020" L="40" H="160" P="0,0,0,0.2,0,0,0,0"/><S T="1" X="300" Y="1020" L="40" H="160" P="0,0,0,0.2,0,0,0,0"/><S T="1" X="1160" Y="720" L="40" H="160" P="0,0,0,0.2,0,0,0,0"/><S T="1" X="840" Y="720" L="40" H="160" P="0,0,0,0.2,0,0,0,0"/><S T="1" X="400" Y="640" L="40" H="320" P="0,0,0,0.2,0,0,0,0"/><S T="1" X="840" Y="520" L="40" H="80" P="0,0,0,0.2,180,0,0,0"/><S T="1" X="1160" Y="520" L="40" H="80" P="0,0,0,0.2,180,0,0,0"/><S T="1" X="1280" Y="1040" L="40" H="120" P="0,0,0,0.2,0,0,0,0"/><S T="1" X="840" Y="1000" L="40" H="200" P="0,0,0,0.2,0,0,0,0"/><S T="10" X="1360" Y="720" L="280" H="20" P="1,0,0.3,0,0,0,0,0" c="3"/><S T="10" X="1000" Y="630" L="240" H="20" P="1,0,0.3,0,0,0,0,0" c="3"/><S T="10" X="240" Y="630" L="240" H="20" P="1,0,0.3,0,0,0,0,0" c="3"/><S T="10" X="1616" Y="740" L="160" H="120" P="0,0,0.3,0,0,0,0,0"/><S T="12" X="1091" Y="2567" L="1851" H="75" P="0,0,0.3,0.2,0,0,0,0" o="533d2e"/><S T="12" X="487" Y="4649" L="13" H="404" P="0,0,0.3,0.2,0,0,0,0" o="324650" c="2" m=""/><S T="12" X="559" Y="2298" L="463" H="787" P="0,0,0,0.2,90,0,0,0" o="b17a6d"/><S T="12" X="1946" Y="2300" L="463" H="187" P="0,0,0,0.2,90,0,0,0" o="b17a6d"/><S T="12" X="1101" Y="2036" L="1880" H="187" P="0,0,0,0.2,180,0,0,0" o="b17a6d"/><S T="0" X="1075" Y="5831" L="647" H="36" P="0,0,0.3,0.2,0,0,0,0" c="2" m=""/><S T="12" X="1292" Y="2411" L="66" H="17" P="0,0,0.3,0.2,-30,0,0,0" o="915E52"/><S T="12" X="1601" Y="2349" L="191" H="17" P="0,0,0.3,0.2,-30,0,0,0" o="915E52"/><S T="12" X="1420" Y="2396" L="207" H="17" P="0,0,0.3,0.2,0,0,0,0" o="915E52"/><S T="12" X="1441" Y="2300" L="251" H="17" P="0,0,0.3,0.2,0,0,0,0" o="915E52"/><S T="12" X="1712" Y="2302" L="68" H="17" P="0,0,0.3,0.2,0,0,0,0" o="915E52"/><S T="12" X="1738" Y="2337" L="90" H="17" P="0,0,0.3,0.2,90,0,0,0" o="915E52"/><S T="12" X="1755" Y="2436" L="134" H="17" P="0,0,0.3,0.2,0,0,0,0" o="915E52"/><S T="12" X="1255" Y="2263" L="149" H="17" P="0,0,0.3,0.2,30,0,0,0" o="915E52"/><S T="12" X="1072" Y="2226" L="242" H="17" P="0,0,0.3,0.2,0,0,0,0" o="915E52"/><S T="1" X="1742" Y="4935" L="400" H="250" P="1,9999,0,0.2,0,1,0,0" lua="300"/><S T="0" X="1460" Y="4996" L="150" H="170" P="1,9999,30,0.2,0,1,0,0" lua="200" contactlistener="true"/><S T="1" X="1497" Y="4880" L="30" H="30" P="1,9999,2,0.2,0,1,0,0" lua="12000" contactListener="true"/><S T="1" X="1427" Y="4884" L="30" H="30" P="1,9999,2,0.2,0,1,0,0" lua="12001" contactListener="true"/><S T="12" X="1966" Y="4832" L="30" H="553" P="0,0,0.3,0.2,0,0,0,0" o="324650" m=""/><S T="12" X="1623" Y="5104" L="757" H="50" P="0,0,0.3,0.2,0,0,0,0" o="324650" m=""/><S T="12" X="1262" Y="4822" L="137" H="587" P="0,0,0.3,0.2,0,0,0,0" o="324650" m=""/><S T="12" X="1630" Y="4529" L="827" H="100" P="0,0,0.3,0.2,0,0,0,0" o="324650" m=""/><S T="0" X="12" Y="4838" L="36" H="29" P="0,0,0.3,0.2,0,0,0,0" c="4" i="0,0,181b8d28825.png"/></S><D><P X="1160" Y="1400" T="11" P="0,0"/><P X="120" Y="1090" T="11" P="0,0"/><P X="40" Y="650" T="11" P="0,0"/><P X="637" Y="1541" T="109" P="1,0"/><P X="306" Y="1458" T="109" P="1,0"/><P X="1125" Y="1020" T="109" P="1,0"/><DS X="870" Y="3199"/></D><O><O X="322" Y="3221" C="22" nosync="" P="0" type="npc" name="edric"/><O X="593" Y="3222" C="22" nosync="" P="0" type="npc" name="laura"/><O X="769" Y="3189" C="22" nosync="" P="0" type="npc" name="marc"/><O X="286" Y="1190" C="22" nosync="" P="0" type="npc" name="saruman"/><O X="48" Y="610" C="22" nosync="" P="0" type="spirit_orb" name="2"/><O X="1890" Y="5596" C="22" nosync="" P="0" type="spirit_orb" name="5"/><O X="75" Y="1058" C="22" nosync="" P="0" type="spirit_orb" name="3"/><O X="1104" Y="1330" C="22" nosync="" P="0" type="spirit_orb" name="4"/><O X="1768" Y="3214" C="22" nosync="" P="0" type="npc" name="cole"/><O X="206" Y="5604" C="22" nosync="" P="0" type="npc" name="niels"/><O X="137" Y="4792" C="22" nosync="" P="0" type="npc" name="monk"/><O X="1075" Y="2197" C="11" nosync="" P="0" type="teleport" route="arena" id="2"/><O X="273" Y="3156" C="11" nosync="" P="0" type="teleport" route="arena" id="1"/><O X="1326" Y="888" C="14" nosync="" P="0" type="monster_spawn"/><O X="1150" Y="3728" C="14" nosync="" P="0" type="monster_spawn"/><O X="494" Y="3963" C="14" nosync="" P="0" type="monster_spawn"/><O X="944" Y="3914" C="14" nosync="" P="0" type="monster_spawn"/><O X="358" Y="5613" C="14" nosync="" P="0" type="monster_spawn"/><O X="1069" Y="1083" C="14" nosync="" P="0" type="monster_spawn"/><O X="620" Y="1064" C="14" nosync="" P="0" type="monster_spawn"/><O X="1379" Y="2282" C="14" nosync="" P="0" type="monster_spawn"/><O X="1380" Y="2370" C="14" nosync="" P="0" type="monster_spawn"/><O X="718" Y="4681" C="14" nosync="" P="0" type="final_boss"/><O X="486" Y="4710" C="14" nosync="" P="0" type="monster_spawn_passive"/><O X="1952" Y="3906" C="11" nosync="" P="0" type="teleport" route="bridge" id="1"/><O X="126" Y="5609" C="11" nosync="" P="0" type="teleport" route="final_boss" id="1"/><O X="1063" Y="3197" C="11" nosync="" P="0" type="teleport" route="castle" id="1"/><O X="1669" Y="3172" C="11" nosync="" P="0" type="teleport" route="castle" id="2"/><O X="23" Y="4793" C="11" nosync="" P="0" type="teleport" route="final_boss" id="2"/><O X="36" Y="4028" C="11" nosync="" P="0" type="teleport" route="shrines" id="1"/><O X="1911" Y="1420" C="11" nosync="" P="0" type="teleport" route="shrines" id="2"/><O X="358" Y="784" C="11" nosync="" P="0" type="teleport" route="enigma" id="2"/><O X="35" Y="5609" C="11" nosync="" P="0" type="teleport" route="bridge" id="2"/><O X="86" Y="3806" C="22" nosync="" P="0" type="recipe" name="bridge"/><O X="164" Y="3118" C="22" nosync="" P="0" type="recipe" name="iron_sword"/><O X="524" Y="1476" C="22" nosync="" P="0" type="recipe" name="copper_sword"/><O X="292" Y="520" C="22" nosync="" P="0" type="recipe" name="copper_shield"/><O X="156" Y="1245" C="22" nosync="" P="0" type="recipe" name="gold_shovel"/><O X="257" Y="1080" C="22" nosync="" P="0" type="recipe" name="gold_axe"/><O X="1769" Y="5596" C="22" nosync="" P="0" type="recipe" name="gold_sword"/><O X="1809" Y="5596" C="22" nosync="" P="0" type="recipe" name="gold_shield"/><O X="183" Y="3118" C="22" nosync="" P="0" type="recipe" name="iron_shield"/><O X="1619" Y="2960" C="22" nosync="" P="0" type="recipe" name="gold_axe"/><O X="721" Y="5607" C="22" nosync="" P="0" type="bridge"/><O X="1494" Y="3699" C="22" nosync="" P="0" type="tree"/><O X="1408" Y="3691" C="22" nosync="" P="0" type="tree"/><O X="1307" Y="3659" C="22" nosync="" P="0" type="tree"/><O X="1232" Y="3698" C="22" nosync="" P="0" type="tree"/><O X="1079" Y="3689" C="22" nosync="" P="0" type="tree"/><O X="985" Y="3730" C="22" nosync="" P="0" type="tree"/><O X="786" Y="3181" C="22" nosync="" P="0" type="craft_table"/><O X="1816" Y="5565" C="14" nosync="" P="0" type="fiery_dragon"/><O X="1740" Y="1090" C="7" P="0"/><O X="1360" Y="1090" C="7" P="0"/><O X="920" Y="1090" C="7" P="0"/><O X="380" Y="1090" C="7" P="0"/><O X="1740" Y="1090" C="11" P="0"/><O X="1360" Y="1090" C="11" P="0"/><O X="920" Y="1090" C="11" P="0"/><O X="380" Y="1090" C="11" P="0"/><O X="1846" Y="710" C="423" P="-60,0"/><O X="1696" Y="590" C="423" P="-60,0"/><O X="1894" Y="628" C="11" P="0"/><O X="1744" Y="508" C="11" P="0"/><O X="431" Y="770" C="11" nosync="" P="0" type="teleport" route="enigma" id="1"/><O X="431" Y="770" C="11" nosync="" P="0" type="teleport" route="enigma" id="1"/><O X="431" Y="770" C="11" nosync="" P="0" type="teleport" route="enigma" id="1"/></O><L><JP M1="108" M2="67" AXIS="0,1"/><JP M1="113" M2="67" AXIS="1,0" LIM1="0" LIM2="Infinity" MV="1,6.666666666666667"/><JP M1="109" M2="67" AXIS="0,1"/><JD M1="109" M2="108"/><JP M1="117" M2="67" AXIS="0,1"/><JP M1="110" M2="67" AXIS="0,1"/><JP M1="114" M2="67" AXIS="1,0" LIM1="-Infinity" LIM2="0" MV="1,-6.666666666666667"/><JD M1="117" M2="110"/><JP M1="118" M2="67" AXIS="0,1"/><JP M1="112" M2="67" AXIS="0,1"/><JD M1="112" M2="118"/><JP M1="115" M2="67" AXIS="1,0" LIM1="0" LIM2="Infinity" MV="1,6.666666666666667"/><JP M1="119" M2="67" AXIS="1,0"/><JP M1="116" M2="67" AXIS="0,1" LIM1="-Infinity" LIM2="0" MV="1,6.666666666666667"/><JD M1="119" M2="111"/><JP M1="111" M2="67" AXIS="1,0"/><JD c="C55924,4,1,0" P1="640,1720" P2="650,1725"/><JD c="C55924,4,1,0" P1="500,1370" P2="510,1375"/><JD c="C55924,4,1,0" P1="640,1730" P2="650,1725"/><JD c="C55924,4,1,0" P1="500,1380" P2="510,1375"/><JR M1="130" M2="105" P1="1000,630" MV="Infinity,1.4"/><JR M1="129" M2="105" P1="1360,720" MV="Infinity,1.4"/><JR M1="131" M2="105" P1="240,630" MV="Infinity,1.4"/><JD c="272416,200,1,0" P1="100,0" P2="100,1600"/><JD c="272416,200,1,0" P1="280,0" P2="280,1800"/><JD c="272416,200,1,0" P1="460,0" P2="460,1800"/><JD c="272416,200,1,0" P1="640,0" P2="640,1800"/><JD c="272416,200,1,0" P1="820,0" P2="820,1800"/><JD c="272416,200,1,0" P1="1000,0" P2="1000,1800"/><JD c="272416,200,1,0" P1="1180,0" P2="1180,1800"/><JD c="272416,200,1,0" P1="1360,0" P2="1360,1800"/><JD c="272416,200,1,0" P1="1540,0" P2="1540,1800"/><JD c="272416,200,1,0" P1="1720,0" P2="1720,1800"/><JD c="272416,200,1,0" P1="1900,0" P2="1900,1800"/></L></Z></C>]]
}

local keys = {
	LEFT 	= 0,
	JUMP 	= 1,
	RIGHT 	= 2,
	DUCK 	= 3,
	SPACE 	= 32,
	KEY_0 	= 48,
	KEY_1	= 49,
	KEY_2	= 50,
	KEY_3	= 51,
	KEY_4	= 52,
	KEY_5	= 53,
	KEY_6	= 54,
	KEY_7	= 55,
	KEY_8	= 56,
	KEY_9	= 57,
	KEY_P 	= 80,
	KEY_X	= 88,
	KEY_U	= 85
}

local assets = {
	ui = {
		reply = "171d2f983ba.png",
		btnNext = "17eaa38a3f8.png",
		inventory = "17ff9b6b11f.png",
		dialogue_proceed = "180c6623296.png",
		dialogue_replies = "180c6a27f57.png",
		divine_panel = "180e6a4cc73.png",
		marker = "180e698ed6b.png",
		attack = "180f665dad5.png",
		defense = "180f6724a3b.png",
		durability = "180f66d1355.png",
		chopping = "180f697bff3.png",
		mining = "180f675527f.png",
		questProgress = "181b07c5bcb.png",
		lock = "1660271f4c6.png",
		cogwheel = "181bd5c03f5.png"
	},
	widgets = {
		borders = {
			topLeft = "155cbe99c72.png",
			topRight = "155cbea943a.png",
			bottomLeft = "155cbe97a3f.png",
			bottomRight = "155cbe9bc9b.png"
		},
		closeButton = "171e178660d.png",
		scrollbarBg = "1719e0e550a.png",
		scrollbarFg = "1719e173ac6.png"
	},
	damageFg = "17f2a88995c.png",
	damageBg = "17f2a890350.png",
	stone = "18093cce38d.png",
	bridge = "1816b166e3e.png",
	spit = "180a896aac3.png",
	laser = "180c7384245.png",
	rock = "180eaca954d.png",
	goo = "18105dfd36a.png",
	divine_light = "1817af8c258.png"
}

local dHandler = DataHandler.new("evt_nq", {
	recipes = {
		index = 1,
		type = "number",
		default = 0
	},
	questProgress = {
		index = 2,
		type = "string",
		default = ""
	},
	inventory = {
		index = 3,
		type = "string",
		default = ""
	},
	spiritOrbs = {
		index = 4,
		type = "number",
		default = 0
	},
	missingRewardsGiven = {
		index = 5,
		type = "boolean",
		default = false
	}
})

local teleports = {}

local directionSequence = {}
local projectiles = {}

local mineQuestCompletedPlayers, mineQuestIncompletedPlayers, totalPlayers, totalProcessedPlayers = 0, 0, 0, 0
local _tc, _tr = 0, 0

